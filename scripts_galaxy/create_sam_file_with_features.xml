<tool id="base_create_new_sam_file" name="Create new SAM file with featuresfor BASE"  version="0.1.0">
    <description>with awk</description>
    <macros>
        <import>../macros.xml</import>
    </macros>
    <requirements>
    </requirements>
    <command>
<![CDATA[ 
        awk -v OFS='	' 'FNR==NR{a[$1,$2]=$7; next} {$3=a[$3,$4]}1' '$BED3' '$SAMFILE' | awk -F'\t'  '$3!=""' > '$NEWSAM'
]]>
    </command>
    <inputs>
        <param name="BED3" type="data" format="tabular" label="BED3 file from drop reads" />
        <param name="SAMFILE" type="data" format="tabular" label="SAM files to convert from chrom to feature" />
    </inputs>
    <outputs>
        <data name="NEWSAM" format="tabular" type="data" label="${tool.name} on ${on_string} New SAM file with features instead of chrom" />
    </outputs>
    <help><![CDATA[
    **What it does**
    Create new SAM file with reads in features.
    ]]></help>
</tool>
